<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>수확의 정석 - AI 과일 품질 분류 시스템</title>
    <link rel="stylesheet" href="/static/css/dashboard.css">
</head>
<body>
    <header class="header">
        <div class="header-container">
            <div class="title-section">
                <a href="/" class="title-link">
                    <h1>수확의 정석</h1>
                </a>
                <span class="divider">|</span>
                <p>AI 기반 과일 품질 분류 시스템</p>
            </div>

            <nav class="nav">
                <div class="nav-item">
                    <a href="#mask" class="active">마스크</a>
                </div>
                <div class="nav-item">
                    <a href="/quality">품질 분류</a>
                </div>
                <div class="nav-item">
                    <a href="/extraction">특징 추출</a>
                </div>
                <div class="nav-item">
                    <a href="/data">데이터</a>
                </div>
            </nav>

            <div class="org-info">
                <div>농촌진흥청 국립원예특작과학원 저장유통과</div>
                <div>전북대학교 스마트팜학과</div>
            </div>
        </div>
    </header>

    <main class="main-content">
        <div class="content-layout">
            <div class="upload-section">
                <div class="upload-header">
                    <div class="fruit-buttons">
                        <button class="fruit-btn active" data-fruit="melon">참외</button>
                        <button class="fruit-btn" data-fruit="apple">사과</button>
                    </div>

                    <button class="file-add-btn" id="fileSelectBtn">
                        <img src="/static/images/icon_folder.png" alt="폴더" width="16" height="16">
                        파일 추가
                    </button>
                </div>

                <div class="drag-drop-container" id="dropArea">
                    <input type="file" id="fileInput" accept="image/jpeg,image/png" multiple hidden>

                    <div class="empty-state" id="emptyState">
                        <div class="upload-icon">
                            <img src="/static/images/icon_image.png" alt="이미지" width="80" height="80">
                        </div>
                        <h3>파일을 여기로 끌어 놓아 주세요</h3>
                        <p class="sub-text">(jpg, png 만 가능)</p>
                    </div>

                    <div class="file-list" id="fileList"></div>
                </div>
            </div>

            <div class="info-section">
                <div class="info-card">
                    <div class="info-header">
                        <h4>마스크</h4>
                        <div class="action-buttons">
                            <button class="action-btn btn-run" id="runBtn">
                                실행
                            </button>
                            <div class="save-btn-wrapper">
                                <button class="action-btn btn-save tooltip-target" id="saveBtn" data-tooltip="마스크 된 이미지를 저장">
                                    <img src="/static/images/icon_save.png" alt="저장" width="16" height="16">
                                    저장
                                </button>
                                <div class="save-dropdown">
                                    <div class="save-option" data-format="individual">개별 PNG</div>
                                    <div class="save-option" data-format="zip">ZIP 파일</div>
                                </div>
                            </div>
                            <button class="action-btn btn-download tooltip-target" id="downloadBtn" data-tooltip="과실 이미지 마스크 프로그램 다운로드">
                                <img src="/static/images/icon_download.png" alt="다운로드" width="16" height="16">
                            </button>
                        </div>
                    </div>

                    <div class="info-content" id="infoContent">
                        <h5>
                            <img src="/static/images/icon_manual.png" alt="매뉴얼" width="18" height="18" style="vertical-align: middle; margin-right: 6px;">
                            마스크 추출 이용방법
                        </h5>
                        <ol class="usage-list">
                            <li>추출하고 싶은 과실 품종을 선택한다.</li>
                            <li>해당 과실이 포함된 이미지를 업로드한다.</li>
                            <li>실행 버튼을 누른다.</li>
                            <li>저장 버튼에 마우스를 올려 저장 방식을 선택한다 (개별 PNG 또는 ZIP).</li>
                            <li>선택한 방식으로 과실만 마스크된 이미지를 저장한다.</li>
                            <li>필요 시 다운로드 버튼으로 마스크 프로그램 다운로드 가능하다.</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="/static/js/dashboard.js"></script>
</body>
</html>